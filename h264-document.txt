本解码器参照H.264(202108)编写，https://www.itu.int/rec/T-REC-H.264-202108-S/en

语法元素描述符

AE(V)：上下文自适应算术熵编码的语法元素。此描述符的解析过程在第9.3节中规定。

B(8)：具有任意模式的位串(8位)的字节。此描述符的解析过程由函数READ_BITS(8)的返回值指定。

CE(V)：首先使用左比特的上下文自适应可变长度熵编码语法元素。此描述符的解析过程在第9.2节中规定。

F(N)：固定模式位串，使用n位(从左到右)写入，左位在前。此描述符的解析过程由函数READ_BITS(N)的返回值指定。

I(N)：使用n位的带符号整数。当n在语法表中为“v”时，比特数以依赖于其他语法元素的值的方式变化。此描述符的解析过程由函数READ_BITS(N)的返回值指定，该函数被解释为最先写入最高有效位的二进制补码整数表示。

Me(V)：映射Exp-Golomb编码的语法元素，左位在前。此描述符的解析过程在第9.1条中规定。

Se(V)：有符号整数Exp-Golomb编码的语法元素，左位在前。此描述符的解析过程在第9.1条中规定。

ST(V)：按照国际标准化组织/国际电工委员会10646的规定，以通用编码字符集传输格式-8(UTF-8)字符编码的以空值结尾的字符串。解析过程指定如下：ST(V)开始于位流中的字节对齐位置，并从位流读取并返回一系列字节，从当前位置开始，直到但不包括等于0x00的下一个字节对齐字节，并将位流指针前进(字符串长度+1)*8位位置，其中字符串长度等于返回的字节数。
注意--只有当位流中的当前位置是字节对齐的位置时，本规范中才使用st(V)语法描述符。TE(V)：左位优先的截断Exp-Golomb编码语法元素。此描述符的解析过程在第9.1条中规定。

U(N)：使用n位的无符号整数。当n在语法表中为“v”时，比特数以依赖于其他语法元素的值的方式变化。此描述符的解析过程由函数READ_BITS(N)的返回值指定，该函数被解释为首先写入最高有效位的无符号整数的二进制表示。

UE(V)：无符号整数Exp-Golomb编码的语法元素，左位在前。此描述符的解析过程在第9.1条中规定。

u(v): v = log2(MaxFrameNum)  = log2_max_frame_num_minus4 + 4  <=> bitStream.readUn(log2(m_sps.MaxFrameNum));



RefPicList0:
  主要用于P帧和B帧的前向预测。
  包含当前帧之前的参考帧（即已经解码的帧），这些帧可以用来预测当前帧的宏块。

RefPicList1:
  仅用于B帧的后向预测。
  包含当前帧之后的参考帧（即在时间顺序上位于当前帧之后的帧），这些帧也可以用来预测当前帧的宏块。



## 解码流程

### 1. **Annex B: Byte Stream Format**
   - **位置**: 附录B
   - **内容**: 介绍了如何从字节流中提取NALU（Network Abstraction Layer Unit）。这部分描述了如何识别和解析NALU的起始码，以及如何处理NALU之间的分隔符。

### 2. **Section 7: Syntax and Semantics**
   - **位置**: 第7章
   - **内容**: 详细描述了H.264的语法结构，包括NALU的结构、宏块层、片层（slice layer）等。这里你可以找到NALU的解析方法，以及如何从NALU中提取语法元素。

### 3. **Section 8: Decoding Process**
   - **位置**: 第8章
   - **内容**: 这是解码流程的核心部分。第8章详细描述了从NALU解析到最终生成YUV数据的整个解码过程。包括：
     - **8.2**: 片层的解码过程（Slice decoding process）
     - **8.3**: 宏块层的解码过程（Macroblock layer decoding process）
     - **8.4**: 变换、量化和反量化（Transform, quantization, and inverse quantization）
     - **8.5**: 运动补偿（Motion compensation）
     - **8.6**: 重建过程（Reconstruction process）
     - **8.7**: 去块效应滤波（Deblocking filter process）
     - **8.8**: 输出过程（Output process），包括如何将解码后的数据转换为YUV格式。

### 4. **Annex A: Profiles and Levels**
   - **位置**: 附录A
   - **内容**: 介绍了不同的Profile和Level，以及它们对解码流程的影响。不同的Profile可能会影响解码器需要支持的功能集。

### 5. **Annex C: Hypothetical Reference Decoder (HRD)**
   - **位置**: 附录C
   - **内容**: 描述了假设参考解码器（HRD）的模型，虽然这部分主要用于流量控制和缓冲管理，但它也提供了对解码器行为的进一步理解。

### 6. **Annex E: Error Resilience Tools**
   - **位置**: 附录E
   - **内容**: 介绍了错误恢复工具和技术，这些工具在实际解码过程中可能会用到，特别是在处理丢包或错误的情况下。

### 总结
要找到H.264解码流程的完整描述，建议从第8章开始阅读，它是解码过程的核心部分。结合附录B（NALU解析）和附录C（HRD模型），你可以获得对整个解码流程的全面理解。
